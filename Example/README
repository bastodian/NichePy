EXAMPLE ANALYSIS

The files contained in this folder were analyzed using the
NichePy scripts. Refer to these example files to set up your
own experiment.

The files Anolis_chlorocyanus.csv and Anolis_coelestinus.csv
contain species occurrence data suitable for the resampling
scripts nichIdentity and nicheBackground. The folder
background_grids contains ARC/INFO ASCII grids from which 
pseudo-presence records are drawn for the background test.

The pseudo-replicate datsets contained in the niche_identity
and niche_background folders (anoles-identity.csv and anoles-
background.csv) were generated as follows.

$ nicheIdentity -d path/to/Example/niche_identity -o anoles-identity.csv 
    -A path/to/Example/Anolis-chlorocyanus.csv 
    -B path/to/Example/Anolis-coelestinus.csv -n 2

$ nicheBackground -d path/to/Example/niche_background -o anoles-identity.csv 
    -A path/to/Example/Anolis-chlorocyanus.csv -B path/to/Example/Anolis-coelestinus.csv 
    -a path/to/Example/background_grids/chlorocyanus_background.asc 
    -b path/to/Example/back_grids/coelestinus_background.asc -n 2

The CSVtoOM.sh shell script contained in the BatchScriptsAndWarappers
folder was used to convert the comma-delimited csv files generated 
above into tab-delimited files suitable for use with OpenModeller.

$ CSVtoOM.sh path/to/nicheIdentity/anoles-identity.csv

$ CSVtoOM.sh path/to/nicheIdentity/anoles-identity.csv

Refer to the BatchScriptsAndWarappers README for information on how 
models were generated with OpenModeller and how the consensus models
were calculated. The folder Hispaniola_PCA_20 contains principal 
components of WORLDCLIM data for Hispaniola that were used for 
ENM/SDM in conjunction with the tab-delimited OpenModeller occurrence 
data files.

IMPORTANT: ENMs/SDMs generated by different algorithms were
placed into individual folders contained in the models folder in
the niche_identity and niche_background folders. Make sure to only
include the ASCII grid files in these folders. Note the file-
naming convention used here: Genus_species.asc and
Genus_species_decimal.asc (use underscores; getMetric needs these 
to parse files correctly!). The identity test is somewhat robust 
to file naming schemes that deviate from this outline, but the
background test will not pair ASCII files correctly that are not
named in this manner.

Niche identity and background tests were run as follows.

$ getMetric -i path/to/niche_identity/models/ -t identity -n -m I D BC -s less

$ getMetric -i path/to/niche_background/models/ -t background -n -m I D BC -s less

This produced the Results folder in each algorithm folder. Results
are written into comma-delimited csv files, one of which contains
the p-value for the specified test whereas the other contains
the raw overlap values as calculated using the I, D, and BC
metrics.

In addition, normalized grids that were used to calculate overlap
among ENMs/SDMs were written into folders called normalized_grids;
this is optional.

If you want to re-run the analyses delete or move the Results and 
normalized grids folders from the model folders!
